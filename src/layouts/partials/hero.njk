{% macro hero(site) %}
<section class="container py-16 md:py-24">
  <div class="grid md:grid-cols-2 gap-12 items-center">
    <div>
      <h1 class="font-display text-4xl md:text-6xl font-extrabold leading-tight">{{ site.hero_heading or site.title }}
        {% if site.hero_subheading %}<span class="block text-xl md:text-2xl font-semibold mt-3">{{ site.hero_subheading }}</span>{% endif %}
      </h1>
      {% if site.hero_intro %}<p class="mt-6 text-lg">{{ site.hero_intro }}</p>{% endif %}
      <div class="mt-8 flex gap-3 flex-wrap">
        {% if site.hero_primary_cta_label and site.hero_primary_cta_url %}
          <a class="btn" href="{{ site.hero_primary_cta_url }}">{{ site.hero_primary_cta_label }}</a>
        {% endif %}
        {% if site.hero_secondary_cta_label and site.hero_secondary_cta_url %}
          <a class="btn" href="{{ site.hero_secondary_cta_url }}">{{ site.hero_secondary_cta_label }}</a>
        {% endif %}
      </div>
    </div>
    {% set heroes = site.hero_images or [] %}
    {% if heroes and heroes | length %}
      <div class="grid gap-3" style="grid-template-columns: repeat({{ heroes | length }}, minmax(0,1fr));">
        {% for img in heroes %}
          {% set src = img.image or img %}
          {% if src %}
            <figure class="card overflow-hidden">
              {% set altText = img.alt or ('Hero image ' + loop.index) %}
              {# Use optImg if path is absolute (starts with /) assuming local asset; else plain img #}
              {% if src and src[0] == '/' %}
                {% optImg src, altText %}
              {% else %}
                <img class="aspect-square object-cover w-full h-full" src="{{ src }}" alt="{{ altText | escape }}" loading="{{ 'eager' if loop.first else 'lazy' }}" decoding="async" />
              {% endif %}
            </figure>
          {% endif %}
        {% endfor %}
      </div>
    {% endif %}
  </div>
</section>
{% endmacro %}
