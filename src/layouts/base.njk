<!doctype html>
<html lang="en" class="h-full" x-data>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ title or site.title }} ‚Äî {{ site.tagline }}</title>
  <meta name="description" content="{{ site.description }}">
  <meta property="og:title" content="{{ title or site.title }}">
  <meta property="og:description" content="{{ site.description }}">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ site.url or '' }}{{ page.url }}">
  <meta property="og:image" content="{{ site.og_image or '/images/samples/sample-1.jpg' }}">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link href="/assets/styles.css" rel="stylesheet">
  <script>/* Dark mode init */(function(){const p='pref-theme';const stored=localStorage.getItem(p);if(stored){document.documentElement.classList.toggle('dark', stored==='dark');}else{if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.documentElement.classList.add('dark');}}})();</script>
  <script type="application/ld+json">{
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"{{ site.title | escape }}",
    "url":"{{ site.url or '' }}",
    "logo":"{{ site.og_image or '/images/samples/sample-1.jpg' }}",
    "sameAs":["{{ site.social.instagram }}"]
  }</script>
  {% if collections.lessons and collections.lessons.length %}
  <script type="application/ld+json">{
    "@context":"https://schema.org",
    "@graph":[
    {% for l in collections.lessons | slice(0,10) %}{
      "@type":"Event",
      "name":"{{ l.data.title | escape }}",
      "eventStatus":"https://schema.org/EventScheduled",
      "eventAttendanceMode":"https://schema.org/OfflineEventAttendanceMode",
      "startDate":"{{ l.data.date }}",
      "location":{ "@type":"Place", "name":"{{ l.data.location | escape }}" },
      "organizer":{ "@type":"Organization", "name":"{{ site.title | escape }}", "url":"{{ site.url or '' }}" }
    }{% if not loop.last %},{% endif %}{% endfor %}
    ]
  }</script>
  {% endif %}
</head>
<body class="font-body text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-900"> 
  <header class="border-b border-black/10 dark:border-white/10">
    <nav class="container flex items-center justify-between h-16">
      <a href="/" class="font-extrabold tracking-tight text-lg">{{ site.title }}</a>
      <ul class="flex items-center gap-6">
        <li><a href="/gallery" class="hover:underline">Gallery</a></li>
        <li><a href="/lessons" class="hover:underline">Lessons</a></li>
        <li><a href="/about" class="hover:underline">About</a></li>
        <li><a href="/contact" class="hover:underline">Contact</a></li>
        <li><a href="/admin/" class="hover:underline">CMS</a></li>
        <li><a href="/admin/registrations" class="hover:underline text-xs opacity-70">Reg*</a></li>
        <li><button id="themeToggle" class="text-xs border px-2 py-1 rounded">üåô</button></li>
      </ul>
    </nav>
  </header>

  <main class="min-h-[70vh]">
    {{ content | safe }}
  </main>

  <footer class="border-t border-black/10 dark:border-white/10 py-10 mt-16">
    <div class="container flex flex-col md:flex-row items-center justify-between gap-6">
      <p class="text-sm">¬© {{ ("now" | date | readableDate) or "2025" }} ‚Äî {{ site.title }} ¬∑ {{ site.location }}</p>
      <div class="flex items-center gap-4">
        <a href="{{ site.social.instagram }}" target="_blank" class="btn">Instagram</a>
        <a href="{{ site.social.email }}" class="btn">Email</a>
        <a href="/admin/" class="btn">Admin</a>
      </div>
    </div>
  </footer>
  <script>/* Toggle */(function(){const b=document.getElementById('themeToggle');if(!b)return;function set(m){document.documentElement.classList.toggle('dark',m==='dark');localStorage.setItem('pref-theme',m);b.textContent=m==='dark'?'‚òÄÔ∏è':'üåô';}b.addEventListener('click',()=>{const dark=document.documentElement.classList.contains('dark');set(dark?'light':'dark');});const current=document.documentElement.classList.contains('dark')?'dark':'light';b.textContent=current==='dark'?'‚òÄÔ∏è':'üåô';})();</script>
</body>
</html>